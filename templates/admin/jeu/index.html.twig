{% extends 'admin/base.html.twig' %}

{% block title %}Lister les jeux {% endblock %}

{% block body %}
    <h1> Lister les jeux </h1>

    <a href="{{ path('app_admin_jeu_ajouter') }}" class="btn btn-success">Ajouter un jeu</a>

    <table class="table">
        <thead>
        <tr>
            <th scope="col">Nom</th>
            <th scope="col">Genre</th>
            <th scope="col">Date de sortie</th>
            <th scope="col">Description</th>
            <th scope="col">Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for jeu in jeux %}
        <tr>
            <td>{{ jeu.nom }}</td>
            <td>{{ jeu.genre.nom }}</td> {# Il faut mettre "jeu.genre.nom" Comme "jeu.genre" est une entité qui encapsule plusieurs infos ( id, nom , popularite...) il ne ça ne peut pas pas marcher, ça ne peut pas être converti en string pour être affiché#}
            <td>{{ jeu.dateSortie | date('m/d/Y')}}</td> {# Afficher la date en Twig#}
            <td>jeu.description</td>
            <td>
                <a href="{{ path('app_admin_jeu_modifier', {'id' : jeu.id}) }}" class="btn btn-sm btn-primary">Modifier</a>
                <a href="{{ path('app_admin_jeu_supprimer', {'id': jeu.id}) }}" class="btn btn-sm btn-danger" onclick="return confirm('Etes-vous sûr de vouloir SUPPRIMER ?')">Supprimer</a>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>


{% endblock %}
